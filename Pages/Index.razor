
<style>
  .greycliff {
    font-family: 'Greycliff CF', sans-serif;
  }
    body {
    margin: 0;
    background: #FAFBFF;
    color: #000000;
    padding-bottom: 80px;
  }

  .header-bar {
    background-color: #594AE2;
    padding: 1rem 2rem;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    height: 30px;
  }

  .user-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
  }

  .resumen-box {
    background-color: white;
    border-radius: 24px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
    padding: 1.5rem;
    margin-top: 0.5rem;
    margin-bottom: 1.25rem;
  }

  .resumen-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .resumen-icono {
    width: 40px;
    height: 40px;
    background: #ffffff;
    border-radius: 50%;
    padding: 6px;
  }

  .resumen-texto {
    display: flex;
    flex-direction: column;
    font-size: 14px;
  }

  .resumen-monto {
    font-weight: 700;
    font-size: 1.2rem;
  }
</style>

<MudThemeProvider />
<MudDialogProvider />

<!-- 游댳 Header -->
<div class="header-bar greycliff">
  <img src="https://cadamenudo.github.io/UI-UX/assets/logo/cada-menudo-logo-white.png" alt="Logo" class="logo" />
  <div class="user-info">
    <span>Hola Xavier</span>
    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Avatar" class="user-avatar" />
  </div>
</div>

<!-- 游댳 Contenido -->
<MudContainer MaxWidth="MaxWidth.Large" Class="pa-4 greycliff">

  <!-- 游댲 Resumen -->
  <MudPaper Class="resumen-box">
    <MudGrid>
      @foreach (var item in Resumen)
      {
        <MudItem Xs="4">
          <div class="resumen-item">
            <img src="@item.Icon" class="resumen-icono" />
            <div class="resumen-texto">
              <span>@item.Nombre</span>
              <span class="resumen-monto">@item.Valor</span>
            </div>
          </div>
        </MudItem>
      }
    </MudGrid>
  </MudPaper>

  <!-- 游댳 Super치vit -->
<MudAlert Severity="Severity.Success" Dense="true" Class="my-2 mb-3">
    SUPER: Tienes un sobrante de <strong>$@Superavit</strong>
  </MudAlert>
  
  <!-- 游댲 Fechas -->
<MudGrid Class="my-3 mb-5"> <!-- Aumentado a mb-5 -->
    <MudItem Xs="6">
        <MudDatePicker Label="Desde"
                       @bind-Date="FechaDesde"
                       DateFormat="dd/MM/yyyy"
                       Culture="es-ES"
                       AnchorOrigin="Origin.TopLeft"
                       TransformOrigin="Origin.TopLeft" />
    </MudItem>
    <MudItem Xs="6">
        <MudDatePicker Label="Hasta"
                       @bind-Date="FechaHasta"
                       DateFormat="dd/MM/yyyy"
                       Culture="es-ES"
                       AnchorOrigin="Origin.TopRight"
                       TransformOrigin="Origin.TopRight" />
    </MudItem>

</MudGrid>

<!-- 游댳 Gr치fico 1: Meta del a침o -->
<MudPaper Class="pa-4 my-4" Style="border-radius:16px;">
  <MudText Typo="Typo.h6" Align="Align.Center">Meta para el a침o</MudText>
  <GraficoMetas />
</MudPaper>

<!-- 游댳 Gr치fico 2: Ingresos vs Gastos -->
<MudPaper Class="pa-4 my-4" Style="border-radius:16px;">
  <MudText Typo="Typo.h6" Align="Align.Center">Ingresos vs Gastos</MudText>
  <GraficoIngresosGastos />
</MudPaper>

  <!-- 游댳 Gr치fico 3: Ingresos Totales -->
  <MudPaper Class="pa-4 my-4" Style="border-radius:16px;">
    <MudText Typo="Typo.h6" Align="Align.Center">Ingresos Totales</MudText>
    <div style="text-align:center;">
      <canvas id="graficoIngresosTotales" width="300" height="300"></canvas>
    </div>
  </MudPaper>

  <!-- 游댳 Gr치fico 4: Gastos Totales + Subcategor칤as -->
  <MudPaper Class="pa-4 my-4" Style="border-radius:16px;">
    <MudText Typo="Typo.h6" Align="Align.Center">Gastos Totales</MudText>
    <div style="text-align:center;">
      <canvas id="graficoGastosTotales" width="300" height="300"></canvas>
    </div>

    <MudText Typo="Typo.subtitle1" Class="mt-4 mb-2">Ver subcategor칤as:</MudText>
    <div style="text-align:center;">
      <canvas id="graficoSubcategoria" width="300" height="300"></canvas>
    </div>
  </MudPaper>

</MudContainer>

<!-- 游댳 Legal -->
<div class="footer-legales greycliff" style="text-align: center; margin: 1rem 0;">
    <a href="https://cadamenudo.github.io/UI-UX/terminos.html" target="_blank" style="margin-right: 1rem;">T칄RMINOS</a>
    <a href="https://cadamenudo.github.io/UI-UX/privacidad.html" target="_blank" style="margin-right: 1rem;">PRIVACIDAD</a>
    <a href="mailto:tech@cadamenudo.com" style="font-weight: 500;">tech@cadamenudo.com</a>
</div>

<!-- 游댳 Footer -->
<footer class="navbar greycliff" style="background-color: #594AE2; padding: 1rem 0;">
  <div style="display: grid; grid-template-columns: repeat(5, 1fr); text-align: center; align-items: center;">
    
    <div style="color: white;">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/home.png" style="width: 28px;" />
      <div>Tablero</div>
    </div>

    <div style="color: white;">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/transacciones.png" style="width: 28px;" />
      <div>Transacciones</div>
    </div>

    <div style="color: white;">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/nueva.png" style="width: 32px;" />
      <div style="font-weight: 600; margin-top: 4px;">Registrar</div>
    </div>

    <div style="color: white;">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/metas.png" style="width: 28px;" />
      <div>Metas</div>
    </div>

    <div style="color: white;">
      <img src="https://cadamenudo.github.io/UI-UX/assets/icons/buscar.png" style="width: 28px;" />
      <div>Buscar</div>
    </div>
    
  </div>
</footer>

@code {
  private DateTime? FechaDesde = new DateTime(2025, 1, 1);
  private DateTime? FechaHasta = new DateTime(2025, 5, 31);
  private string Superavit = "1,868.77";

  private List<(string Nombre, string Valor, string Icon)> Resumen = new()
  {
    ("Ingresos", "$6,000.00", "https://cadamenudo.github.io/UI-UX/assets/icons/ingreso.png"),
    ("Gastos", "$3,531.23", "https://cadamenudo.github.io/UI-UX/assets/icons/gastos.png"),
    ("Ahorros", "$600.00", "https://cadamenudo.github.io/UI-UX/assets/icons/ahorro.png")
  };
}
